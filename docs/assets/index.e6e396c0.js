import{c as le,r as t,h as V,j as e,B as Q,G as d,a as R,b as y,T as ie,M as X,d as ce,e as ue,f as de,g as pe,i as me,S as he,k as fe,I as xe,l as ke,m as ge,n as Ce,R as ye,o as be}from"./vendor.5b7cc3a4.js";const ve=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))p(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&p(h)}).observe(document,{childList:!0,subtree:!0});function i(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function p(r){if(r.ep)return;r.ep=!0;const c=i(r);fetch(r.href,c)}};ve();const Ae=le({palette:{primary:{main:"#ebbceb"},secondary:{main:"#c9c3ff"}}}),Le=l=>{const[o]=t.exports.useState(new V.Howl(l)),i=t.exports.useCallback(m=>o.play(m),[o]),p=t.exports.useCallback(m=>{o.stop(m)},[o]),r=t.exports.useCallback(m=>{o.volume(m)},[o]),c=t.exports.useCallback((m,x,u)=>{o.on(m,x,u)},[o]),h=t.exports.useCallback((m,x,u)=>{o.off(m,x,u)},[o]);return{play:i,stop:p,volume:r,addEvent:c,removeEvent:h}},Se=()=>{const l=t.exports.useRef(null),o=t.exports.useRef(null),[i,p]=t.exports.useState(),r=t.exports.useRef(),c=t.exports.useCallback(()=>{if(l.current==null||o.current==null||i==null)return;const u=new Uint8Array(i.frequencyBinCount);i.smoothingTimeConstant=.1,i.fftSize=1024,i.getByteFrequencyData(u);const L=l.current.width.baseVal.value*1.5/i.frequencyBinCount;let S="M";u.forEach((E,C)=>{if(l.current==null||o.current==null)return;const N=C*L,k=u[C]/255,M=C%2==0?1:-1,O=l.current.height.baseVal.value/2+l.current.height.baseVal.value/2*k*-1*M;S+=`${N} ${O},`}),o.current.setAttribute("d",S),r.current=requestAnimationFrame(c)},[i]),h=t.exports.useCallback(()=>{r.current===void 0&&c()},[c]),m=t.exports.useCallback(()=>{var u;r.current!==void 0&&((u=o.current)==null||u.removeAttribute("d"),cancelAnimationFrame(r.current),r.current=void 0)},[]);return t.exports.useEffect(()=>{const u=V.Howler.ctx.createAnalyser();p(u),V.Howler.masterGain.connect(u),u.connect(V.Howler.ctx.destination)},[]),{AudioVisualizer:t.exports.useCallback(()=>e("svg",{ref:l,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%",children:e("path",{ref:o,stroke:"#ffffff80",strokeWidth:"0.5",fill:"none"})}),[]),startAnimation:h,endAnimation:m}},we=()=>{const[l,o]=t.exports.useState(!1),i=t.exports.useCallback(()=>{o(!!document.fullscreenElement)},[]);t.exports.useEffect(()=>{document.addEventListener("fullscreenchange",i,!1)},[i]);const p=t.exports.useCallback(()=>{l?document.exitFullscreen():document.body.requestFullscreen()},[l]);return{isFullscreen:l,toggle:p}};var Me="/assets/marupop.b345f53e.jpg",Fe="/assets/voice.780ae30f.ogg",Pe="/assets/voice.cc6a3518.m4a",Be="/assets/voice.681a8bda.mp3",Ee="/assets/voice.8d708353.ac3";const A=t.exports.memo(({icon:l,text:o,onClick:i})=>e(Q,{variant:"text",color:"secondary",startIcon:l,onClick:i,children:o})),B=t.exports.memo(({text:l,onClick:o})=>e(Q,{variant:"outlined",color:"primary",onClick:o,sx:{width:"8em"},children:l})),Ie=t.exports.memo(()=>{const[l,o]=t.exports.useState([]),[i,p]=t.exports.useState([]),[r,c]=t.exports.useState(50),[h,m]=t.exports.useState([]),[x,u]=t.exports.useState([]),[L,S]=t.exports.useState([]),[E,C]=t.exports.useState(!1),[N,w]=t.exports.useState(!1),[k,M]=t.exports.useState(["sankaku","shikaku","maru","pop","desu"]),{isFullscreen:O,toggle:j}=we(),{play:b,volume:q,addEvent:z,removeEvent:D}=Le({src:[Fe,Pe,Be,Ee],sprite:{desu:[0,417.82312925170066],maru:[2e3,328.32199546485265],pop:[4e3,466.96145124716537],sankaku:[6e3,696.3718820861677],shikaku:[8e3,721.4285714285716]},volume:50/100}),{AudioVisualizer:Y,startAnimation:v,endAnimation:T}=Se(),f=t.exports.useCallback(a=>{const s=b(a);m(n=>[s,...n]),v()},[b,v]),I=t.exports.useCallback(a=>{const s=b(a);u(n=>[s,...n]),v()},[b,v]),F=t.exports.useCallback(a=>{const s=b(a);S(n=>[s,...n]),v()},[b,v]),Z=t.exports.useCallback(()=>{j()},[j]),H=t.exports.useCallback(()=>{f("sankaku")},[f]),G=t.exports.useCallback(()=>{f("shikaku")},[f]),W=t.exports.useCallback(()=>{f("maru")},[f]),U=t.exports.useCallback(()=>{f("pop")},[f]),_=t.exports.useCallback(()=>{f("desu")},[f]),ee=t.exports.useCallback(()=>{w(!0),C(!1);const[a,...s]=k;o(s),p([]),I(a)},[I,k]),te=t.exports.useCallback(()=>{C(!0),w(!1);const[a,...s]=k;p(s),o([]),F(a)},[F,k]),$=t.exports.useCallback(()=>{w(!1),C(!1),o([]),p([])},[]),se=t.exports.useCallback(()=>{M(a=>{const s=[...a];for(let n=s.length-1;n>0;n--){const g=Math.floor(Math.random()*(n+1));[s[n],s[g]]=[s[g],s[n]]}return s})},[]),oe=t.exports.useCallback(()=>{M(["sankaku","shikaku","maru","pop","desu"])},[]),ne=t.exports.useCallback((a,s)=>{Array.isArray(s)||isNaN(s)||(q(s/100),c(s))},[q]),K=t.exports.useCallback(a=>{if(T(),h.some(s=>s===a)){const s=h.filter(n=>n!==a);m(s);return}if(x.some(s=>s===a)){const s=x.filter(n=>n!==a);if(u(s),l.length>0&&x.some(n=>n===a)){const[n,...g]=l;o(g),I(n)}else w(!1);return}if(L.some(s=>s===a)){const s=L.filter(n=>n!==a);if(S(s),i.length>0){const[n,...g]=i;p(g),F(n)}else if(E){const n=[...k];for(let P=n.length-1;P>0;P--){const J=Math.floor(Math.random()*(P+1));[n[P],n[J]]=[n[J],n[P]]}M(n);const[g,...ae]=n;p(ae),F(g)}return}},[T,h,x,L,l,I,i,E,F,k]),re=t.exports.useMemo(()=>({sankaku:e(d,{item:!0,children:e(B,{onClick:H,text:"\u3055\u3093\u304B\u304F"})},"sankaku"),shikaku:e(d,{item:!0,children:e(B,{onClick:G,text:"\u3057\u304B\u304F"})},"shikaku"),maru:e(d,{item:!0,children:e(B,{onClick:W,text:"\u307E\u308B"})},"maru"),pop:e(d,{item:!0,children:e(B,{onClick:U,text:"\u307D\u3063\u3077"})},"pop"),desu:e(d,{item:!0,children:e(B,{onClick:_,text:"\u3067\u3059"})},"desu")}),[_,W,U,H,G]);return t.exports.useEffect(()=>{D("end"),z("end",K)},[z,K,D]),R(y,{sx:{position:"relative",textAlign:"center",height:"100%"},children:[e(y,{sx:{width:"100%",height:"100%",objectFit:"cover",margin:"auto"},children:e("img",{src:Me})}),e(y,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"75%"},children:e(Y,{})}),R(y,{sx:{backgroundColor:"#282c349a",display:"flex",flexDirection:"column",alignItems:"center",color:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"10px 10px 10px 10px",width:"75%",height:"80%",maxWidth:"800px",maxHeight:"400px"},children:[e(ie,{sx:{paddingTop:"15%",fontSize:"2em",marginBottom:"1em"},children:"\u3055\u3093\u304B\u304F\u3057\u304B\u304F\u307E\u308B\u307D\u3063\u3077"}),e(d,{container:!0,justifyContent:"center",spacing:2,children:k.map(a=>re[a])}),e(y,{sx:{position:"absolute",bottom:"0",right:"0",margin:"0.5em 0.5em 0.5em 0.5em"},children:R(d,{container:!0,spacing:1,children:[e(d,{item:!0,children:N?e(A,{icon:e(X,{}),text:"Stop",onClick:$}):e(A,{icon:e(ce,{}),text:"Play All",onClick:ee})}),e(d,{item:!0,children:E?e(A,{icon:e(X,{}),text:"Stop",onClick:$}):e(A,{icon:e(ue,{}),text:"Play Loop",onClick:te})}),e(d,{item:!0,children:e(A,{icon:e(de,{}),text:"Shuffle",onClick:se})}),e(d,{item:!0,children:e(A,{icon:e(pe,{}),text:"Reset",onClick:oe})})]})})]}),e(y,{sx:{position:"absolute",bottom:"0",left:"0",width:"15em",margin:"0.5em 0.5em 0.5em 0.5em"},children:R(d,{container:!0,spacing:2,alignItems:"center",children:[e(d,{item:!0,children:e(me,{})}),e(d,{item:!0,xs:!0,children:e(he,{value:r,onChange:ne})}),e(d,{item:!0,children:e(fe,{})})]})}),e(y,{sx:{position:"absolute",bottom:"0",right:"0",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(xe,{onClick:Z,children:O?e(ke,{}):e(ge,{})})})]})}),Ve=()=>e(Ce,{theme:Ae,children:e(Ie,{})});ye.render(e(be.StrictMode,{children:e(Ve,{})}),document.getElementById("root"));
