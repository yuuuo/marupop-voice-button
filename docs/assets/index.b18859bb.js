import{c as ae,r as t,h as E,j as e,B as W,a as R,G as f,M as $,b as le,d as ie,e as ce,f as ue,g as de,S as pe,i as me,k as b,T as fe,I as he,l as xe,m as ke,n as ge,R as Ce}from"./vendor.767862a7.js";const be=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}};be();const ye=ae({palette:{primary:{main:"#ebbceb"},secondary:{main:"#c9c3ff"}}}),ve=a=>{const[o]=t.exports.useState(new E.Howl(a)),l=t.exports.useCallback(p=>o.play(p),[o]),u=t.exports.useCallback(p=>{o.stop(p)},[o]),r=t.exports.useCallback(p=>{o.volume(p)},[o]),i=t.exports.useCallback((p,x,d)=>{o.on(p,x,d)},[o]),m=t.exports.useCallback((p,x,d)=>{o.off(p,x,d)},[o]);return{play:l,stop:u,volume:r,addEvent:i,removeEvent:m}},Ae=()=>{const a=t.exports.useRef(null),o=t.exports.useRef(null),[l,u]=t.exports.useState(),r=t.exports.useRef(),i=t.exports.useCallback(()=>{if(a.current==null||o.current==null||l==null)return;const d=new Uint8Array(l.frequencyBinCount);l.smoothingTimeConstant=.1,l.fftSize=1024,l.getByteFrequencyData(d);const L=a.current.width.baseVal.value*1.5/l.frequencyBinCount;let S="M";d.forEach((I,C)=>{if(a.current==null||o.current==null)return;const z=C*L,k=d[C]/255,B=C%2==0?1:-1,N=a.current.height.baseVal.value/2+a.current.height.baseVal.value/2*k*-1*B;S+=`${z} ${N},`}),o.current.setAttribute("d",S),r.current=requestAnimationFrame(i)},[l]),m=t.exports.useCallback(()=>{r.current===void 0&&i()},[i]),p=t.exports.useCallback(()=>{var d;r.current!==void 0&&((d=o.current)==null||d.removeAttribute("d"),cancelAnimationFrame(r.current),r.current=void 0)},[]);return t.exports.useEffect(()=>{const d=E.Howler.ctx.createAnalyser();u(d),E.Howler.masterGain.connect(d),d.connect(E.Howler.ctx.destination)},[]),{AudioVisualizer:t.exports.useCallback(()=>e("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%",children:e("path",{ref:o,stroke:"#ffffff80",strokeWidth:"0.5",fill:"none"})}),[]),startAnimation:m,endAnimation:p}},Le=()=>{const[a,o]=t.exports.useState(!1),l=t.exports.useCallback(()=>{o(!!document.fullscreenElement)},[]);t.exports.useEffect(()=>{document.addEventListener("fullscreenchange",l,!1)},[l]);const u=t.exports.useCallback(()=>{a?document.exitFullscreen():document.body.requestFullscreen()},[a]);return{isFullscreen:a,toggle:u}};var Se="/assets/marupop.b345f53e.jpg",we="/assets/voice.780ae30f.ogg",Be="/assets/voice.cc6a3518.m4a",Me="/assets/voice.681a8bda.mp3",Pe="/assets/voice.8d708353.ac3";const A=t.exports.memo(({icon:a,text:o,onClick:l})=>e(W,{variant:"text",color:"secondary",startIcon:a,onClick:l,children:o})),Fe=t.exports.memo(({isAll:a,isLoop:o,onStopClick:l,onPlayClick:u,onLoopClick:r,onShuffleClick:i,onResetClick:m})=>R(f,{container:!0,spacing:1,children:[e(f,{item:!0,children:a?e(A,{icon:e($,{}),text:"Stop",onClick:l}):e(A,{icon:e(le,{}),text:"Play All",onClick:u})}),e(f,{item:!0,children:o?e(A,{icon:e($,{}),text:"Stop",onClick:l}):e(A,{icon:e(ie,{}),text:"Play Loop",onClick:r})}),e(f,{item:!0,children:e(A,{icon:e(ce,{}),text:"Shuffle",onClick:i})}),e(f,{item:!0,children:e(A,{icon:e(ue,{}),text:"Reset",onClick:m})})]})),Ie=t.exports.memo(({value:a,onChange:o})=>R(f,{container:!0,spacing:2,alignItems:"center",children:[e(f,{item:!0,children:e(de,{})}),e(f,{item:!0,xs:!0,children:e(pe,{value:a,onChange:o})}),e(f,{item:!0,children:e(me,{})})]})),F=t.exports.memo(({text:a,onClick:o})=>e(W,{variant:"outlined",color:"primary",onClick:o,sx:{width:"8em"},children:a})),Ve=t.exports.memo(({renderOrder:a,handleSankakuClick:o,handleShikakuClick:l,handleMaruClick:u,handlePopClick:r,handleDesuClick:i})=>{const m=t.exports.useMemo(()=>({sankaku:e(f,{item:!0,children:e(F,{onClick:o,text:"\u3055\u3093\u304B\u304F"})},"sankaku"),shikaku:e(f,{item:!0,children:e(F,{onClick:l,text:"\u3057\u304B\u304F"})},"shikaku"),maru:e(f,{item:!0,children:e(F,{onClick:u,text:"\u307E\u308B"})},"maru"),pop:e(f,{item:!0,children:e(F,{onClick:r,text:"\u307D\u3063\u3077"})},"pop"),desu:e(f,{item:!0,children:e(F,{onClick:i,text:"\u3067\u3059"})},"desu")}),[i,u,r,o,l]);return e(f,{container:!0,justifyContent:"center",spacing:2,children:a.map(p=>m[p])})}),Ee=t.exports.memo(()=>{const[a,o]=t.exports.useState([]),[l,u]=t.exports.useState([]),[r,i]=t.exports.useState(50),[m,p]=t.exports.useState([]),[x,d]=t.exports.useState([]),[L,S]=t.exports.useState([]),[I,C]=t.exports.useState(!1),[z,w]=t.exports.useState(!1),[k,B]=t.exports.useState(["sankaku","shikaku","maru","pop","desu"]),{isFullscreen:N,toggle:O}=Le(),{play:y,volume:q,addEvent:j,removeEvent:D}=ve({src:[we,Be,Me,Pe],sprite:{desu:[0,417.82312925170066],maru:[2e3,328.32199546485265],pop:[4e3,466.96145124716537],sankaku:[6e3,696.3718820861677],shikaku:[8e3,721.4285714285716]},volume:50/100}),{AudioVisualizer:U,startAnimation:v,endAnimation:T}=Ae(),h=t.exports.useCallback(c=>{const s=y(c);p(n=>[s,...n]),v()},[y,v]),V=t.exports.useCallback(c=>{const s=y(c);d(n=>[s,...n]),v()},[y,v]),M=t.exports.useCallback(c=>{const s=y(c);S(n=>[s,...n]),v()},[y,v]),_=t.exports.useCallback(()=>{O()},[O]),K=t.exports.useCallback(()=>{h("sankaku")},[h]),J=t.exports.useCallback(()=>{h("shikaku")},[h]),Q=t.exports.useCallback(()=>{h("maru")},[h]),X=t.exports.useCallback(()=>{h("pop")},[h]),Y=t.exports.useCallback(()=>{h("desu")},[h]),Z=t.exports.useCallback(()=>{w(!0),C(!1);const[c,...s]=k;o(s),u([]),V(c)},[V,k]),ee=t.exports.useCallback(()=>{C(!0),w(!1);const[c,...s]=k;u(s),o([]),M(c)},[M,k]),te=t.exports.useCallback(()=>{w(!1),C(!1),o([]),u([])},[]),oe=t.exports.useCallback(()=>{B(c=>{const s=[...c];for(let n=s.length-1;n>0;n--){const g=Math.floor(Math.random()*(n+1));[s[n],s[g]]=[s[g],s[n]]}return s})},[]),se=t.exports.useCallback(()=>{B(["sankaku","shikaku","maru","pop","desu"])},[]),ne=t.exports.useCallback((c,s)=>{Array.isArray(s)||isNaN(s)||(q(s/100),i(s))},[q]),H=t.exports.useCallback(c=>{if(T(),m.some(s=>s===c)){const s=m.filter(n=>n!==c);p(s);return}if(x.some(s=>s===c)){const s=x.filter(n=>n!==c);if(d(s),a.length>0&&x.some(n=>n===c)){const[n,...g]=a;o(g),V(n)}else w(!1);return}if(L.some(s=>s===c)){const s=L.filter(n=>n!==c);if(S(s),l.length>0){const[n,...g]=l;u(g),M(n)}else if(I){const n=[...k];for(let P=n.length-1;P>0;P--){const G=Math.floor(Math.random()*(P+1));[n[P],n[G]]=[n[G],n[P]]}B(n);const[g,...re]=n;u(re),M(g)}return}},[T,m,x,L,a,V,l,I,M,k]);return t.exports.useEffect(()=>{D("end"),j("end",H)},[j,H,D]),R(b,{sx:{position:"relative",textAlign:"center",height:"100%"},children:[e(b,{sx:{width:"100%",height:"100%",margin:"auto",backgroundImage:`url(${Se})`,backgroundPosition:"50% 50%",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),e(b,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"75%"},children:e(U,{})}),R(b,{sx:{backgroundColor:"#282c349a",display:"flex",flexDirection:"column",alignItems:"center",color:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"10px 10px 10px 10px",width:"75%",height:"80%",maxWidth:"800px",maxHeight:"400px"},children:[e(fe,{sx:{paddingTop:"15%",fontSize:"2em",marginBottom:"1em"},children:"\u3055\u3093\u304B\u304F\u3057\u304B\u304F\u307E\u308B\u307D\u3063\u3077"}),e(Ve,{renderOrder:k,handleSankakuClick:K,handleShikakuClick:J,handleMaruClick:Q,handlePopClick:X,handleDesuClick:Y}),e(b,{sx:{position:"absolute",bottom:"0",right:"0",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(Fe,{isAll:z,isLoop:I,onLoopClick:ee,onPlayClick:Z,onResetClick:se,onShuffleClick:oe,onStopClick:te})})]}),e(b,{sx:{position:"absolute",bottom:"0",left:"0",width:"15em",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(Ie,{value:r,onChange:ne})}),e(b,{sx:{position:"absolute",bottom:"0",right:"0",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(he,{onClick:_,children:N?e(xe,{}):e(ke,{})})})]})}),Re=()=>e(ge,{theme:ye,children:e(Ee,{})});Ce.render(e(t.exports.StrictMode,{children:e(Re,{})}),document.getElementById("root"));
