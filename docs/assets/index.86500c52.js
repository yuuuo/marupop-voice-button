import{c as le,r as t,h as I,j as e,B as W,a as R,G as h,M as U,b as ae,d as ie,e as ce,f as ue,g as de,S as pe,i as me,k as y,T as he,I as fe,l as xe,m as ke,n as ge,R as Ce}from"./vendor.767862a7.js";const ye=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};ye();const be=le({palette:{primary:{main:"#ebbceb"},secondary:{main:"#c9c3ff"}}}),ve=l=>{const[s]=t.exports.useState(new I.Howl(l)),a=t.exports.useCallback(p=>s.play(p),[s]),u=t.exports.useCallback(p=>{s.stop(p)},[s]),r=t.exports.useCallback(p=>{s.volume(p)},[s]),i=t.exports.useCallback((p,x,d)=>{s.on(p,x,d)},[s]),m=t.exports.useCallback((p,x,d)=>{s.off(p,x,d)},[s]);return{play:a,stop:u,volume:r,addEvent:i,removeEvent:m}},Ae=()=>{const l=t.exports.useRef(null),s=t.exports.useRef(null),[a,u]=t.exports.useState(),r=t.exports.useRef(),i=t.exports.useCallback(()=>{if(l.current==null||s.current==null||a==null)return;const d=new Uint8Array(a.frequencyBinCount);a.smoothingTimeConstant=.1,a.fftSize=1024,a.getByteFrequencyData(d);const L=l.current.width.baseVal.value*1.5/a.frequencyBinCount;let S="M";d.forEach((V,C)=>{if(l.current==null||s.current==null)return;const N=C*L,k=d[C]/255,B=C%2==0?1:-1,O=l.current.height.baseVal.value/2+l.current.height.baseVal.value/2*k*-1*B;S+=`${N} ${O},`}),s.current.setAttribute("d",S),r.current=requestAnimationFrame(i)},[a]),m=t.exports.useCallback(()=>{r.current===void 0&&i()},[i]),p=t.exports.useCallback(()=>{var d;r.current!==void 0&&((d=s.current)==null||d.removeAttribute("d"),cancelAnimationFrame(r.current),r.current=void 0)},[]);return t.exports.useEffect(()=>{const d=I.Howler.ctx.createAnalyser();u(d),I.Howler.masterGain.connect(d),d.connect(I.Howler.ctx.destination)},[]),{AudioVisualizer:t.exports.useCallback(()=>e("svg",{ref:l,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%",children:e("path",{ref:s,stroke:"#ffffff80",strokeWidth:"0.5",fill:"none"})}),[]),startAnimation:m,endAnimation:p}},Le=()=>{const[l,s]=t.exports.useState(!1),a=t.exports.useCallback(()=>{s(!!document.fullscreenElement)},[]);t.exports.useEffect(()=>{document.addEventListener("fullscreenchange",a,!1)},[a]);const u=t.exports.useCallback(()=>{l?document.exitFullscreen():document.body.requestFullscreen()},[l]);return{isFullscreen:l,toggle:u}};var Se="/assets/marupop.b345f53e.jpg",we="/assets/voice.780ae30f.ogg",Be="/assets/voice.cc6a3518.m4a",Me="/assets/voice.681a8bda.mp3",Fe="/assets/voice.8d708353.ac3";const A=t.exports.memo(({icon:l,text:s,onClick:a})=>e(W,{variant:"text",color:"secondary",startIcon:l,onClick:a,children:s})),Pe=t.exports.memo(({isAll:l,isLoop:s,onStopClick:a,onPlayClick:u,onLoopClick:r,onShuffleClick:i,onResetClick:m})=>R(h,{container:!0,spacing:1,children:[e(h,{item:!0,children:l?e(A,{icon:e(U,{}),text:"Stop",onClick:a}):e(A,{icon:e(ae,{}),text:"Play All",onClick:u})}),e(h,{item:!0,children:s?e(A,{icon:e(U,{}),text:"Stop",onClick:a}):e(A,{icon:e(ie,{}),text:"Play Loop",onClick:r})}),e(h,{item:!0,children:e(A,{icon:e(ce,{}),text:"Shuffle",onClick:i})}),e(h,{item:!0,children:e(A,{icon:e(ue,{}),text:"Reset",onClick:m})})]})),Ve=t.exports.memo(({value:l,onChange:s})=>R(h,{container:!0,spacing:2,alignItems:"center",children:[e(h,{item:!0,children:e(de,{})}),e(h,{item:!0,xs:!0,children:e(pe,{value:l,onChange:s})}),e(h,{item:!0,children:e(me,{})})]})),P=t.exports.memo(({text:l,onClick:s})=>e(W,{variant:"outlined",color:"primary",onClick:s,sx:{width:"8em"},children:l})),Ee=t.exports.memo(({renderOrder:l,handleSankakuClick:s,handleShikakuClick:a,handleMaruClick:u,handlePopClick:r,handleDesuClick:i})=>{const m=t.exports.useMemo(()=>({sankaku:e(h,{item:!0,children:e(P,{onClick:s,text:"\u3055\u3093\u304B\u304F"})},"sankaku"),shikaku:e(h,{item:!0,children:e(P,{onClick:a,text:"\u3057\u304B\u304F"})},"shikaku"),maru:e(h,{item:!0,children:e(P,{onClick:u,text:"\u307E\u308B"})},"maru"),pop:e(h,{item:!0,children:e(P,{onClick:r,text:"\u307D\u3063\u3077"})},"pop"),desu:e(h,{item:!0,children:e(P,{onClick:i,text:"\u3067\u3059"})},"desu")}),[i,u,r,s,a]);return e(h,{container:!0,justifyContent:"center",spacing:2,children:l.map(p=>m[p])})}),Ie=t.exports.memo(()=>{const[l,s]=t.exports.useState([]),[a,u]=t.exports.useState([]),[r,i]=t.exports.useState(50),[m,p]=t.exports.useState([]),[x,d]=t.exports.useState([]),[L,S]=t.exports.useState([]),[V,C]=t.exports.useState(!1),[N,w]=t.exports.useState(!1),[k,B]=t.exports.useState(["sankaku","shikaku","maru","pop","desu"]),{isFullscreen:O,toggle:j}=Le(),{play:b,volume:q,addEvent:z,removeEvent:D}=ve({src:[we,Be,Me,Fe],sprite:{desu:[0,417.82312925170066],maru:[2e3,328.32199546485265],pop:[4e3,466.96145124716537],sankaku:[6e3,696.3718820861677],shikaku:[8e3,721.4285714285716]},volume:50/100}),{AudioVisualizer:_,startAnimation:v,endAnimation:T}=Ae(),f=t.exports.useCallback(c=>{const o=b(c);p(n=>[o,...n]),v()},[b,v]),E=t.exports.useCallback(c=>{const o=b(c);d(n=>[o,...n]),v()},[b,v]),M=t.exports.useCallback(c=>{const o=b(c);S(n=>[o,...n]),v()},[b,v]),$=t.exports.useCallback(()=>{j()},[j]),K=t.exports.useCallback(()=>{f("sankaku")},[f]),J=t.exports.useCallback(()=>{f("shikaku")},[f]),Q=t.exports.useCallback(()=>{f("maru")},[f]),X=t.exports.useCallback(()=>{f("pop")},[f]),Y=t.exports.useCallback(()=>{f("desu")},[f]),Z=t.exports.useCallback(()=>{w(!0),C(!1);const[c,...o]=k;s(o),u([]),E(c)},[E,k]),ee=t.exports.useCallback(()=>{C(!0),w(!1);const[c,...o]=k;u(o),s([]),M(c)},[M,k]),te=t.exports.useCallback(()=>{w(!1),C(!1),s([]),u([])},[]),se=t.exports.useCallback(()=>{B(c=>{const o=[...c];for(let n=o.length-1;n>0;n--){const g=Math.floor(Math.random()*(n+1));[o[n],o[g]]=[o[g],o[n]]}return o})},[]),oe=t.exports.useCallback(()=>{B(["sankaku","shikaku","maru","pop","desu"])},[]),ne=t.exports.useCallback((c,o)=>{Array.isArray(o)||isNaN(o)||(q(o/100),i(o))},[q]),H=t.exports.useCallback(c=>{if(T(),m.some(o=>o===c)){const o=m.filter(n=>n!==c);p(o);return}if(x.some(o=>o===c)){const o=x.filter(n=>n!==c);if(d(o),l.length>0&&x.some(n=>n===c)){const[n,...g]=l;s(g),E(n)}else w(!1);return}if(L.some(o=>o===c)){const o=L.filter(n=>n!==c);if(S(o),a.length>0){const[n,...g]=a;u(g),M(n)}else if(V){const n=[...k];for(let F=n.length-1;F>0;F--){const G=Math.floor(Math.random()*(F+1));[n[F],n[G]]=[n[G],n[F]]}B(n);const[g,...re]=n;u(re),M(g)}return}},[T,m,x,L,l,E,a,V,M,k]);return t.exports.useEffect(()=>{D("end"),z("end",H)},[z,H,D]),R(y,{sx:{position:"relative",textAlign:"center",height:"100%"},children:[e(y,{sx:{width:"100%",height:"100%",objectFit:"cover",margin:"auto"},children:e("img",{src:Se})}),e(y,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"75%"},children:e(_,{})}),R(y,{sx:{backgroundColor:"#282c349a",display:"flex",flexDirection:"column",alignItems:"center",color:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"10px 10px 10px 10px",width:"75%",height:"80%",maxWidth:"800px",maxHeight:"400px"},children:[e(he,{sx:{paddingTop:"15%",fontSize:"2em",marginBottom:"1em"},children:"\u3055\u3093\u304B\u304F\u3057\u304B\u304F\u307E\u308B\u307D\u3063\u3077"}),e(Ee,{renderOrder:k,handleSankakuClick:K,handleShikakuClick:J,handleMaruClick:Q,handlePopClick:X,handleDesuClick:Y}),e(y,{sx:{position:"absolute",bottom:"0",right:"0",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(Pe,{isAll:N,isLoop:V,onLoopClick:ee,onPlayClick:Z,onResetClick:oe,onShuffleClick:se,onStopClick:te})})]}),e(y,{sx:{position:"absolute",bottom:"0",left:"0",width:"15em",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(Ve,{value:r,onChange:ne})}),e(y,{sx:{position:"absolute",bottom:"0",right:"0",margin:"0.5em 0.5em 0.5em 0.5em"},children:e(fe,{onClick:$,children:O?e(xe,{}):e(ke,{})})})]})}),Re=()=>e(ge,{theme:be,children:e(Ie,{})});Ce.render(e(t.exports.StrictMode,{children:e(Re,{})}),document.getElementById("root"));
